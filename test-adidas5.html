<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø§Ø®ØªØ¨Ø§Ø± Ø£Ù„ÙˆØ§Ù† Ø§Ù„ØªØ§Ø±ÙŠØ®</title>

<style>
body{
  font-family:Arial;
  background:#f5f5f5;
  padding:20px;
}

/* Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ø¹Ø§Ù… */
.travel-date{
  margin:12px 0;
  padding:12px 16px;
  border-radius:14px;
  font-size:16px;
  font-weight:700;
  display:inline-flex;
  align-items:center;
  gap:10px;
}

/* Ø§Ù„Ø­Ø§Ù„Ø§Øª */
.travel-date.soon{
  background:#ffe1e1;
  color:#8b0000;
}

.travel-date.mid{
  background:#fff2cc;
  color:#7a5200;
}

.travel-date.far{
  background:#e6f7ef;
  color:#0b5f3c;
}
</style>
</head>

<body>

<h2>ðŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø£Ù„ÙˆØ§Ù† ØªØ§Ø±ÙŠØ® Ø§Ù„Ø±Ø­Ù„Ø©</h2>

<div id="box"></div>

<script>
// ðŸ”¹ Ø¯Ø§Ù„Ø© ØªØ­ÙˆÙŠÙ„ ØªØ§Ø±ÙŠØ® Ø¢Ù…Ù†Ø© (Ø§Ù„Ø£Ù‡Ù…)
function parseDateSafe(value){
  if(!value) return null;

  if(typeof value === "number"){
    return new Date(Math.round((value - 25569) * 86400 * 1000));
  }

  const d = new Date(value);
  if(!isNaN(d)) return d;

  return null;
}

// ðŸ”¹ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø­Ø§Ù„Ø©
function getDateStatus(dateValue){
  const travel = parseDateSafe(dateValue);
  if(!travel) return "far";

  const today = new Date();
  today.setHours(0,0,0,0);
  travel.setHours(0,0,0,0);

  const diff = Math.round((travel - today) / 86400000);

  if(diff <= 15) return "soon";
  if(diff <= 40) return "mid";
  return "far";
}

// ðŸ”¹ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©
const tests = [
  { label:"Ø¨Ø¹Ø¯ 5 Ø£ÙŠØ§Ù…",   date: new Date(Date.now() + 5*86400000) },
  { label:"Ø¨Ø¹Ø¯ 25 ÙŠÙˆÙ…",   date: new Date(Date.now() + 25*86400000) },
  { label:"Ø¨Ø¹Ø¯ 70 ÙŠÙˆÙ…",   date: new Date(Date.now() + 70*86400000) },

  { label:"ØµÙŠØºØ© Ù†Øµ",      date: "2026-02-10" },
  { label:"ØµÙŠØºØ© Ø±Ù‚Ù…ÙŠØ©",   date: 45500 } // Google Sheets
];

const box = document.getElementById("box");

tests.forEach(t=>{
  const status = getDateStatus(t.date);
  const div = document.createElement("div");
  div.className = "travel-date " + status;
  div.textContent = `ðŸ“… ${t.label} â†’ Ø§Ù„Ø­Ø§Ù„Ø©: ${status}`;
  box.appendChild(div);
});
</script>

</body>
</html>