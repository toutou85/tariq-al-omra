<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø¹Ù…Ø±Ø©</title>

<style>
body{font-family:Tajawal;background:#f5f5f5;margin:0}
.container{max-width:700px;margin:20px auto;background:#fff;padding:20px;border-radius:12px}
.card{background:#fafafa;padding:15px;border-radius:10px;margin-bottom:15px}
.card h3{margin:0;color:#8b0000}
button{width:100%;padding:10px;border:none;border-radius:8px;background:#8b0000;color:#fff;cursor:pointer}
#modal{display:none;position:fixed;inset:0;background:#0008}
#modalBox{background:#fff;margin:10% auto;padding:20px;max-width:400px;border-radius:12px}
</style>
</head>

<body>

<div class="container">
<h2 style="text-align:center;color:#8b0000">ğŸ•‹ Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø¹Ù…Ø±Ø©</h2>

<label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
<input id="phone" placeholder="Ù„Ø¥Ø¸Ù‡Ø§Ø± Ø¹Ø±ÙˆØ¶Ùƒ ÙÙ‚Ø·">
<button onclick="search()">ğŸ” Ø¨Ø­Ø«</button>

<div id="offers"></div>
</div>

<!-- Ù†Ø§ÙØ°Ø© Ù…Ù†Ø¨Ø«Ù‚Ø© -->
<div id="modal">
  <div id="modalBox">
    <div id="modalContent"></div>
    <button onclick="closeModal()">Ø¥ØºÙ„Ø§Ù‚</button>
  </div>
</div>

<script>
const apiURL = "PUT_YOUR_SCRIPT_URL";

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¹Ø±ÙˆØ¶
function loadOffers(phone=null){
  let url = apiURL;
  if(phone) url += "?phone="+phone;

  fetch(url)
  .then(r=>r.json())
  .then(data=>{
    const box = document.getElementById("offers");
    box.innerHTML="";

    if(data.length==0){
      box.innerHTML="âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ø±ÙˆØ¶";
      return;
    }

    data.forEach(o=>{
      box.innerHTML += `
      <div class="card">
        <h3>${o.offer}</h3>
        <p>ğŸ¢ ${o.agency}</p>
        <p>ğŸ“… ${o.date}</p>
        <p>ğŸ’° Ø¬Ù…Ø§Ø¹ÙŠØ©: ${o.group}</p>
        <button onclick='showDetails(${JSON.stringify(o)})'>
          ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ø±Ø¶
        </button>
      </div>`;
    });
  });
}

// Ø§Ù„Ø¨Ø­Ø«
function search(){
  const p = document.getElementById("phone").value;
  loadOffers(p);
}

// ØªÙØ§ØµÙŠÙ„
function showDetails(o){
  document.getElementById("modalContent").innerHTML = `
    <p>ğŸ¨ Ø§Ù„ÙÙ†Ø¯Ù‚: ${o.hotel}</p>
    <p>âœˆï¸ Ø§Ù„Ø±Ø­Ù„Ø©: ${o.flight}</p>
    <p>ğŸ›« Ø§Ù„Ù…Ø·Ø§Ø±: ${o.airport}</p>
    <p>ğŸ’° Ø®Ù…Ø§Ø³ÙŠØ©: ${o.five}</p>
    <p>ğŸ’° Ø±Ø¨Ø§Ø¹ÙŠØ©: ${o.four}</p>
    <p>ğŸ’° Ø«Ù„Ø§Ø«ÙŠØ©: ${o.three}</p>
    <p>ğŸ’° Ø«Ù†Ø§Ø¦ÙŠØ©: ${o.two}</p>
  `;
  document.getElementById("modal").style.display="block";
}
function closeModal(){
  document.getElementById("modal").style.display="none";
}

// ØªØ­Ù…ÙŠÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠ
loadOffers();
</script>

</body>
</html>